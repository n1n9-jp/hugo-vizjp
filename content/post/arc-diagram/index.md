+++
author = "Yuichi Yazaki"
title = "アーク・ダイアグラム（Arc Diagram）"
slug = "arc-diagram"
date = "2025-10-11"
categories = [
    "chart"
]
tags = [
    "",
]
image = "images/cover.png"
+++

アーク・ダイアグラム（Arc Diagram）は、ノード間の関係を円弧（アーク）によって表現するネットワーク可視化手法です。ノードを一直線上に配置し、ノード間のリンクを上方または下方に湾曲した線として描画します。構造が単純で、関係性のパターンや対称性、繰り返し構造などを視覚的に把握しやすい特徴があります。

<!--more-->

![](images/mainvisual.png)

## 歴史的経緯

アーク・ダイアグラムという表現は、Martin Wattenbergが2002年に発表した「The Shape of Song」プロジェクトで一般に知られるようになりました。この作品では、音楽の中で繰り返されるフレーズやモチーフをアークでつなぎ、音楽構造を視覚化しています。

以降、社会ネットワークやテキスト解析など、さまざまな分野で応用が進みました。

アーク・ダイアグラムはネットワーク可視化ライブラリ（Gephi, D3.js, Vega-Liteなど）に取り込まれ、現在では「ネットワーク構造を簡潔に表現する代表的手法」として定着しています。

## データ構造

アーク・ダイアグラムは基本的にノードとリンクの二つの要素から構成されます。ノードには一列に並べる順序（例：時系列、アルファベット順など）が必要で、リンクは「出発ノード」と「到達ノード」をペアで持ちます。したがって、次のようなデータ構造が一般的です。

| source | target | value |
|---------|---------|--------|
| A | D | 2 |
| B | C | 1 |
| C | E | 3 |

ノードの順序づけが視覚上の印象を大きく変えるため、適切なソートが重要です。

## 目的

アーク・ダイアグラムは、複雑な関係をシンプルな構造の中で俯瞰的に示すことを目的としています。特に以下のような場面で有効です。
- 関係の繰り返しや対称性を視覚的に確認したいとき
- 時系列や線形構造をもつデータ内の関連性を把握したいとき
- リンクの密集や重なり方から、構造上のパターンを見つけたいとき

## ユースケース

たとえば以下のような領域で活用されています。

- **テキスト分析** ：同じ語句の出現関係や文中の参照構造を表す（例：シェイクスピア作品における人物同士の登場関係）。  
- **音楽解析** ：曲中で繰り返されるモチーフや和音進行の関係を示す。  
- **生物情報学** ：遺伝子間相互作用や配列の類似性を時間軸上で視覚化。  
- **ソフトウェア解析** ：コード内の関数呼び出し関係を直線的に表す。  


## 特徴

この手法は、ネットワーク構造を「空間的に展開する」のではなく、「時間的・文脈的な線上に射影する」ことで、観察者が系列構造と関係構造を同時に理解できる点が特徴です。

- **視覚的対称性**：線が弧を描くため、対称性や周期性を美しく表現できます。
- **順序性**：ノードが直線上に整列しているため、時系列・アルファベット順などの順序を維持しながら関係を示せます。
- **美的効果**：構造が単純で、デザイン的に洗練された印象を与えるため、アートやインフォグラフィックスでも用いられます。
- **スケーラビリティの制限**：リンク数が多くなると線の重なりが増え、可読性が低下するため、中〜小規模のデータに向いています。


## チャートの見方

| 要素 | 説明 |
|------|------|
| **ノード（点）** | 対象となる要素（人物、単語、音符、登場キャラクターなど）を表す。直線上に等間隔または意味のある順序で並ぶ。 |
| **アーク（円弧）** | ノード間の関係性や接続を表す。線の高さや太さ、色などで関係の種類や強さを表現できる。 |
| **配置の順序** | 左から右へ、または上から下へと進む直線的な並びは、時間の流れや文脈の順序を意味することが多い。 |
| **重なりのパターン** | アークが交差したり密集したりする部分は、関係が集中している、または複雑な相互関係を持つことを示す。 |
| **対称性** | 対称的なアーク配置は、構造的なパターンや循環性（再帰的な関係）を暗示する。 |

## デザイン上の注意点

- **ノード順序**：ノードの並び方により印象が大きく変化します。例えば、関連ノードを近くに配置することで交差を減らせます。
- **色と太さの活用**：リンクの強さ（value）を太さや透明度で表すと情報量を保ちながら視認性を向上できます。
- **双方向関係の表現**：リンク方向を矢印などで示すか、省略するかは目的に応じて選択します。
- **交差削減**：交差を最小化するアルゴリズムを用いると、より読みやすい図に仕上がります。

## 応用例

(To be delivered.)

## 代替例

アーク・ダイアグラムは、ネットワーク構造を線形配置で示すという制約を持ちます。したがって、以下のような代替手法が用途に応じて選ばれます。

| 手法 | 特徴 |
|------|------|
| ノードリンク図 | 自由な配置で複雑なネットワーク全体を表現可能 |
| サーキュラーネットワーク図 | ノードを円周上に配置して関係を視覚化 |
| コード図（Chord Diagram） | 円形配置で関係性を示し、アーク・ダイアグラムの拡張形とも言える |
| サンキー図 | フローの量を強調しながら関係性を示す |

## まとめ

複雑な関係性を直線的な配置で単純化し、パターン認識を助ける強力な可視化手法です。「時間・順序・関係」の三要素を同時に理解できる点が特徴です。

構造が単純で理解しやすく、特に繰り返し構造の発見に優れています。一方で、大規模データや複雑なネットワークには適さないため、目的に応じて他の可視化手法と使い分けることが重要です。


## 参考・出典

- [Arc Diagram – Wikipedia](https://en.wikipedia.org/wiki/Arc_diagram)
- [The Shape of Song – Martin Wattenberg](http://www.bewitched.com/song.html)
- [Visualizing Music Structure – Martin Wattenberg (IEEE InfoVis 2002)](https://ieeexplore.ieee.org/document/1167474)
- [“Arc Diagrams: Visualizing Structure in Strings” — Martin Wattenberg, IEEE InfoVis 2002](https://research.ibm.com/publications/arc-diagrams-visualizing-structure-in-strings)
- [Arc Diagrams: Visualizing Structure in Strings (IBM 公開版) — IBM サイト上での発表概要](https://research.ibm.com/publications/arc-diagrams-visualizing-structure-in-strings)