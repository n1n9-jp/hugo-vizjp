+++
author = "Yuichi Yazaki"
title = "リッジライン・プロット（Ridgeline Plot）"
slug = "ridgeline-plot"
date = "2025-10-11"
categories = [
    "chart"
]
tags = [
    "",
]
image = "images/cover.png"
+++

リッジライン・プロット（Ridgeline Plot）は、複数の分布（主に連続変数の分布）を重ねて可視化するチャートです。各分布は滑らかな密度曲線（カーネル密度推定など）として描かれ、上下に少しずつずらして配置されます。時系列やカテゴリごとの分布変化を比較する際に有効で、特に音楽波形、気温、地形データなどの連続的変動を表現するのに適しています。

「リッジライン」という名称は、山脈の尾根線（ridge line）が連なるような見た目に由来します。複数の曲線が重なり合うことで、データの形状や変化のパターンを直感的に読み取ることができます。

<!--more-->

![](images/mainvisual.png)


## 歴史的経緯

このチャートは、もともと統計的な密度分布の比較を目的としたプロット手法として考案されましたが、一般に「リッジライン・プロット」と呼ばれるようになったのは2010年代以降です。特に2017年頃、Pythonの可視化ライブラリ「matplotlib」や「seaborn」で`joyplot`や`ridgeplot`として実装されたことにより、データ・ビジュアライゼーションの分野で広く普及しました。

別名として「Joyplot」とも呼ばれます。これは、イギリスのバンド Joy Division のアルバム『Unknown Pleasures』（1979年）のカバーアートに形が似ていることに由来します。このアルバムジャケットは、電波パルス信号を可視化した図形であり、その「波打つ山並み」がリッジライン・プロットの象徴的なイメージの原点となりました。



## データ構造

リッジライン・プロットで使用されるデータは、通常以下のような構造を持ちます。

| カラム名 | 説明 |
|-----------|------|
| group（またはcategory） | 各分布を識別するカテゴリ名 |
| value | 各カテゴリに対応する連続変数の数値データ |

たとえば、「月別の平均気温分布」や「年代別の所得分布」などのように、カテゴリごとに連続値の集合がある場合に適しています。


## 目的

リッジライン・プロットの主な目的は、複数の分布を比較し、全体的な傾向や分布形状の違いを視覚的に把握することです。単一のヒストグラムや密度プロットでは把握しにくいカテゴリ間の変化や時系列的パターンを明確に示すことができます。


## ユースケース

- 月別・季節別の温度分布の可視化  
- 国や地域ごとの所得・人口分布比較  
- 時間帯ごとのセンサー値の変動  
- 楽曲の波形やスペクトログラムの可視化  
- SNS投稿数や感情スコアの時間推移  


## 特徴

- **連続的な分布比較**が得意  
- カテゴリごとに滑らかな形を保つため**美的表現にも優れる**  
- 重ね方（オーバーラップの度合い）を調整することで**情報量と視覚的魅力を両立可能**

| 特徴 | 説明 |
|------|------|
| 表現対象 | 連続変数の分布（カテゴリ別） |
| 表現方法 | カーネル密度推定曲線を縦方向にずらして重ねる |
| 利点 | 分布の比較・変化の可視化 |
| 欠点 | カテゴリ数が多すぎると判読が難しくなる |


## チャートの見方

各「山」は特定カテゴリ（または時間単位）のデータ分布を表します。山の高さは出現頻度（密度）を示し、山の形状から平均値・歪度・分散などの特徴を読み取ることができます。  
複数の分布を上下に並べることで、変化の方向性（右寄り・左寄り）や分布の広がりを比較することが可能です。

| 要素 | 意味 |
|------|------|
| 各曲線（稜線） | 特定カテゴリの分布（例：各年、各地域など）を表す。密度曲線やヒストグラムに基づく。 |
| 縦方向の並び | 分類（カテゴリ）の順序。通常は時系列やカテゴリー順に並べる。 |
| 横軸 | 対象となる数値変数（例：収入、温度、測定値など）。 |
| 稜線間の重なり | 分布同士の比較を視覚的に可能にする。重なりすぎると見づらくなるため、透明度やスケール調整が重要。 |
| 色や透明度 | 各カテゴリを区別したり、強調するために使用される。 |


## デザイン上の注意点
- **透明度（opacity）**を適切に設定して重なりを見やすくする  
- **軸ラベルとスケール**を統一して比較可能にする  
- **オーバーラップ率**（各分布間の距離）を適切に調整し、視覚的なバランスを保つ  
- カテゴリ順を意味のある順序（例：時間順）に並べる  
- 背景色や陰影を利用して立体的な印象を与える際は、可読性を損なわないよう注意する  

- **カテゴリ順の設定**：平均値や中央値順に並べると分布差が明瞭になる。  
- **バンド幅の調整**：平滑化（カーネル密度推定）パラメータを変えることで山の鋭さを調整可能。  
- **透明度設定**：オーバーラップが強い場合は `alpha` 値を小さくして視認性を確保する。  
- **補助線・注釈**：平均や四分位線を重ねると、定量的比較が容易になる。  




## 応用例

- **地形断面図風の可視化**：地理情報や標高データをリッジライン形式で描く  
- **音楽波形アート**：音量変化を時間軸に沿って波形化  
- **気候データの可視化**：各年の気温分布を重ねることで気候変動を表現  
- **人口ピラミッドの進化比較**：年代ごとの人口構成の変化を波状で表す  


## 代替例

- バイオリン・プロット（Violin Plot）  
- ヒストグラム（Histogram）  
- 密度プロット（Density Plot）  
- ストリームグラフ（Streamgraph）  

これらはそれぞれ分布形状を示す点で類似しており、データ量や目的に応じて使い分けられます。


## まとめ

リッジライン・プロットは、複数の分布を一望できる美しく柔軟な可視化手法です。時系列データやカテゴリ比較において、単なる統計的表示を超えて、**時間・変化・感覚的リズム**を表現できる点に大きな魅力があります。そのため、分析と同時にビジュアル・ストーリーテリングにも向いています。


## 参考・出典

- [Wikipedia — Ridgeline plot](https://en.wikipedia.org/wiki/Ridgeline_plot)
- [Wikipedia – Joy Division "Unknown Pleasures"](https://en.wikipedia.org/wiki/Unknown_Pleasures)
- [Seaborn Documentation – ridgeplot example](https://seaborn.pydata.org/examples/kde_ridgeplot.html)
- [From Data to Viz – Ridgeline Plot](https://www.data-to-viz.com/graph/ridgeline.html)
- [R Graph Gallery — Basic ridgeline plot](https://r-graph-gallery.com/294-basic-ridgeline-plot.html)
- [Altair — Ridgeline Plot Example](https://altair-viz.github.io/gallery/ridgeline_plot.html)
- [Analytics Vidhya — Visualize data with a Joyplot](https://www.analyticsvidhya.com/blog/2021/06/ridgeline-plots-visualize-data-with-a-joy/)