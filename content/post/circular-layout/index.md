+++
author = "Yuichi Yazaki"
title = "サーキュラー・レイアウト（Circular Layout）"
slug = "circular-layout"
date = "2025-10-11"
categories = [
    "chart"
]
tags = [
    "",
]
image = "images/cover.png"
+++

サーキュラー・レイアウト（Circular Layout）は、ノードを円形上に等間隔に配置するネットワーク図のレイアウト手法です。ネットワークの構造を単純かつ視覚的に明快に示すため、ノードの位置関係が重要な意味を持たない場合や、全体構造を俯瞰したい場合に用いられます。  
PythonのNetworkXライブラリなどで標準的にサポートされており、ノードを角度方向に均等に配置してグラフを描画します。



<!--more-->

![](images/mainvisual.png)

## 歴史的経緯

サーキュラー・レイアウトは、1970年代以降のグラフ理論と可視化研究において定式化されました。特に1980年代に登場した可視化ツール（Graphvizなど）や、2000年代以降のデータサイエンス向け可視化ライブラリ（NetworkX, Gephiなど）で普及しました。  
そのシンプルな構造と再現性の高さから、ネットワーク分析の初期段階での探索的可視化や、教育・説明用途で多用されています。


## データ構造

サーキュラー・レイアウトで用いられるデータは、一般にノードとエッジの集合（グラフ構造）として表されます。  
NetworkXなどでは、`Graph` オブジェクトのノードリストをもとに、ノードを円周上に配置し、座標を `(x, y)` として出力します。  
ノード数が多いほど、円周上での重なりが生じやすくなるため、ノードサイズやラベル位置の調整が必要です。


## 目的

このレイアウトの目的は、グラフ全体の構造を単純化し、全ノードを均等に配置して関係性を俯瞰的に示すことです。特にノードの順序やカテゴリ間の関係を可視化する際に有効です。  
階層性や地理的意味を持たない関係データ（例：共起関係、相互参照関係など）でよく利用されます。


## ユースケース

- ソーシャルネットワークの関係構造を俯瞰する  
- 類似性マップやクラスタ構造の初期確認  
- 学術論文の共著ネットワークや引用ネットワークの概要表示  
- GraphvizやGephiなどでの初期配置テンプレート  


## 特徴

| 特徴 | 内容 |
|------|------|
| 配置規則 | 円周上に等角度でノードを配置 |
| 読みやすさ | シンプルだがノード数が多いと重なりやすい |
| 再現性 | 座標計算が決定的で安定している |
| 表現力 | 構造よりも全体分布を強調 |
| 対応ツール | NetworkX, Gephi, Cytoscape, D3.js など |


## チャートの見方

ノードは円周上に並び、エッジはそれらを結ぶ直線または曲線として描かれます。  
ノードの順序に意味を持たせることで、カテゴリ間の関係やグループの接続パターンを見やすくすることができます。  
特に、同じグループに属するノードを近接配置することで、クラスタ構造を視覚的に補足することができます。

| 要素 | 説明 |
|------|------|
| ノード（点） | ネットワーク内の個々の要素を表す。円周上に均等に配置される。 |
| リンク（線） | ノード同士の関係や結びつきを示す。円の内側を通って結ばれる。 |
| 配置規則 | ノードの順序はデータ属性やカテゴリに基づいて決定される場合がある。 |
| 座標系 | 円周上の角度でノードを定義する極座標系を使用。 |



## デザイン上の注意点

- ノード数が多い場合、円周上での重なりやエッジ交差が増えるため、透明度や曲線化で視認性を確保する  
- ノードの順序はランダムではなく、属性順やクラスタ順などに整理することで可読性を向上できる  
- ラベルを全て表示せず、ホバーやクリックなどのインタラクションで補足するのが望ましい  


## 応用例

- **Chord Diagram**（コード・ダイアグラム）：円周配置に基づいて双方向関係を表す拡張形式  
- **Circular Dendrogram**（放射樹）：階層的な構造を円形に展開したバリエーション  
- **Circular Barplot**：カテゴリ変数を円形軸上で表現する派生形式  


## 代替例

| レイアウト名 | 特徴 |
|---------------|------|
| Force-directed Layout | 構造を反映した自動配置。関係性を直感的に表現できる |
| Kamada-Kawai Layout | 物理モデルに基づく力学的配置 |
| Spectral Layout | 固有ベクトルを用いてノード間距離を最小化 |
| Shell Layout | 同心円状に複数のグループを配置する手法 |


### コード・ダイアグラムとの違い

コード・ダイアグラム（Chord Diagram）は、サーキュラー・レイアウトと同様にノードを円周上に配置しますが、各ノード間の関係強度を「帯（コード）」の太さや形で表現します。すなわち：

| 比較項目 | サーキュラー・レイアウト | コード・ダイアグラム |
|-----------|----------------------|------------------|
| 主な目的 | ネットワークの接続関係の構造を示す | ノード間の関係量・相互作用を強調する |
| 表現要素 | ノード（点）とリンク（線） | ノード（扇形）とコード（帯状の線） |
| 線の意味 | 接続の有無や関係の存在を示す | 関係の強度や量を面積・太さで表す |
| 使用例 | ソーシャルネットワーク、通信経路など | 国間の貿易量、移動フロー、カテゴリ間の相関など |

このように、サーキュラー・レイアウトは構造を見せるのに適しており、コード・ダイアグラムは「関係の量」を可視化するのに適しています。



## まとめ

サーキュラー・レイアウトは、ノードを円環上に並べ、ネットワーク全体を俯瞰するのに適したレイアウトです。データ間のリンク構造を視覚的に把握できるため、関係性の全体像を捉えるのに有効です。一方で、関係の強さや方向性を表現するにはコード・ダイアグラムなど他の拡張形式を用いると効果的です。


## 参考・出典

- [NetworkX Documentation — circular_layout](https://networkx.org/documentation/stable/reference/generated/networkx.drawing.layout.circular_layout.html)
- [NetworkX Documentation — draw_circular](https://networkx.org/documentation/stable/reference/generated/networkx.drawing.nx_pylab.draw_circular.html)
- [ObservableHQ — Circular Graph Layout](https://observablehq.com/@drom/circular-graph-layout)
- [Wikipedia — Circular layout](https://en.wikipedia.org/wiki/Circular_layout)
- [Graphviz Paper — Improved Circular Layouts (GK06)](https://graphviz.org/documentation/GK06.pdf)