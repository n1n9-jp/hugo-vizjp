+++
author = "Yuichi Yazaki"
title = "3D ツリーマップ（3D Treemaps）"
slug = "3d-treemaps"
date = "2025-10-11"
categories = [
    "chart"
]
tags = [
    "",
]
image = "images/thumb_ph_vizjp.png"
+++

3D ツリーマップ（3D Treemaps）は、従来のツリーマップを三次元空間に拡張した可視化手法です。ツリーマップは階層構造を持つデータを長方形の面積で表現しますが、3D ツリーマップではこれに「高さ（Z軸）」を加えることで、もう一つの数量的変数を同時に表現できます。

3D ツリーマップは「押し出し型（extrusion-based）」とも呼ばれ、各ノードが立体的なブロックとして描画されます。これにより、面積はカテゴリーの大きさ、高さは数値変数（たとえば売上や成長率など）を表すことができます。

<!--more-->


## チャートの見方
1. **底面の位置と面積**  
　各長方形の底面はツリーマップのレイアウトに基づいて配置されており、親子関係を示します。面積が大きいほど上位カテゴリーの重要度が高いことを意味します。

2. **高さ（Z軸方向）**  
　ブロックの高さは、別の数量的指標を表します。たとえば企業の売上やプロジェクトの進行度などを高さで表現します。

3. **階層構造の認識**  
　親ノードの上に子ノードが積み重なるように可視化される場合や、同一平面上に配置される場合があります。視点を回転・ズームして階層全体を探索することが想定されています。

## 利点と課題
| 利点 | 課題 |
|------|------|
| 高さを用いてもう一つの変数を可視化できる | 奥行き方向の重なりや視点の歪みが生じやすい |
| 情報密度が高く、インタラクティブな操作に適する | 面積と高さを同時に比較するのが難しい |
| 視覚的に印象的で、3D空間での探索が可能 | 実用的な理解には操作スキルが必要 |

3D ツリーマップは見た目の印象が強い一方、情報の読み取りには注意が必要です。とくに奥行き方向の歪みや遮蔽が生じるため、重要な値を正確に比較する場面では2Dのほうが適している場合もあります。

## 応用と設計の工夫
- **ソフトウェア構造の可視化**：モジュール階層を3Dツリーマップとして表現し、バグ密度やコードサイズを高さで示す例があります。  
- **ファイルシステムの分析**：ディレクトリ構造をツリーマップで表し、ファイルサイズを高さとして可視化する。  
- **設計上の工夫**：視点操作・ツールチップ・陰影処理などを組み合わせて奥行き感を補い、情報の読みやすさを高める研究も行われています。

## まとめ
3D ツリーマップは階層データを三次元的に表現する拡張手法であり、追加変数の可視化やインタラクティブな探索に向いています。ただし、視点の歪みや認知的負荷が高いため、用途によっては従来の2Dツリーマップのほうが効果的な場合もあります。実用設計では、目的に応じて2D／3Dを使い分ける判断が重要です。

## 参考・出典
- [The Data Visualisation Catalogue – 3D Treemaps That Use Extrusion](https://datavizcatalogue.com/blog/3d-treemaps-that-use-extrusion/)
- [Exploration of the 3D Treemap Design Space – Hans-Jörg Schulz (Aarhus University)](https://cs.au.dk/~hjschulz/pdfs/3dtreema.pdf)
- [Interactive Rendering of Complex 3D-Treemaps – ResearchGate](https://www.researchgate.net/publication/236895537_Interactive_Rendering_of_Complex_3D-Treemaps)
- [Wikipedia – Treemapping](https://en.wikipedia.org/wiki/Treemapping)