+++
author = "Yuichi Yazaki"
title = "カレンダー・ヒートマップ（Calendar Heatmap）"
slug = "calendar-heat-map"
date = "2025-10-11"
categories = [
    "chart"
]
tags = [
    "",
]
image = "images/cover.png"
+++

カレンダー・ヒートマップは、日付を基準にしたデータを視覚的に表現するチャートで、主に「日ごとの活動量」や「頻度の変化」を把握するために使われます。縦軸や横軸に時間を配置し、日々の値を色の濃淡で表すことで、季節性や周期的パターンを直感的に理解することができます。

この形式は「時系列データをカレンダー構造で配置する」ことで、週・月・季節などの周期的な傾向を視覚的に理解することを目的としています。

<!--more-->

![](images/mainvisual.png)

## 歴史的経緯

ヒートマップ自体は1970年代に生物学や統計学の分野で誕生しましたが、「カレンダー形式」で日付データを可視化する手法が広く認知され始めたのは2010年代以降です。

特に、2011年にGitHubがリポジトリへの貢献を日次単位で表示する「Contribution Calendar」を導入したことが、この形式の普及に大きく貢献しました。

その後、Google Data StudioやTableauなどの可視化ツールでもテンプレートとして実装され、ビジネスダッシュボードや行動分析に広く利用されるようになりました。


## データ構造
カレンダー・ヒートマップで使用されるデータは、基本的に以下のような日付と数値のペア構造です。

| 日付（Date） | 値（Value） |
|---------------|-------------|
| 2025-01-01    | 12          |
| 2025-01-02    | 8           |
| 2025-01-03    | 15          |

日付データが時間軸に沿って整列され、数値部分が色の濃淡としてマッピングされます。週単位のレイアウトを用いる場合、曜日ごとに整列してグリッド形式で表示されるのが一般的です。


## 目的

このチャートの主な目的は、**時間の経過に伴う活動のパターンを把握すること**です。日ごとの変動や、月・季節による周期性、休日やイベントの影響を俯瞰的に確認することができます。


## ユースケース

| 分野 | 利用例 | 特徴 |
|------|--------|------|
| ソフトウェア開発 | GitHub のコミット履歴可視化 | 開発頻度や休止期間が一目でわかる |
| 健康・ライフログ | 歩数や睡眠時間の可視化 | 生活リズムや季節変動の把握 |
| 教育・学習 | 学習日数の記録 | 習慣形成や継続度の評価に利用 |
| ビジネス分析 | 売上や来店数の推移 | 曜日効果や月次トレンドの発見 |
| 環境データ | 気温・降水量の分布 | 季節的パターンや異常値の可視化 |



## 特徴

- **周期性の発見**：週や月の繰り返しパターンを発見しやすい  
- **コンパクトな表示**：1年分など長期間のデータを省スペースで表現可能  
- **比較容易性**：曜日ごとや月ごとの比較が直感的にできる  
- **視覚的一貫性**：色のグラデーションにより、異常値やトレンドが一目で分かる  


## チャートの見方

縦方向に曜日、横方向に週を並べ、各セルが1日を表します。色が濃いほど値が大きいことを意味し、色のスケールは凡例で確認します。たとえば、GitHubのカレンダーでは濃緑が「高い活動」、薄緑が「低い活動」を表しています。

| 要素 | 意味 | 表現方法 |
|------|------|-----------|
| 各セル（マス） | 日付 | 格子状に配置され、曜日と週で並ぶ |
| 色の濃淡 | 値の大小 | 濃い色ほど値が高く、薄い色ほど低い |
| 行（横軸） | 週 | 時間の進行方向を示す |
| 列（縦軸） | 曜日 | 各週の繰り返し構造を形成 |
| 凡例 | カラースケール | 最小値から最大値までの連続的な色で示される |
| 連続する高濃度領域 | 活動が集中する期間 | 特定の季節性やイベントを示唆 |


## デザイン上の注意点

- **カラースケールの選択**：値の大小を誤認しないよう、均等知覚型（perceptually uniform）カラーマップ（例：Viridis, YlGnBu）を推奨します。  
- **欠損値の扱い**：データが存在しない日をグレーや白で明示することで誤解を防ぐ。  
- **凡例の明示**：数値と色の対応関係を明確にする。  
- **カレンダー構成の調整**：開始曜日（例：日曜／月曜）を明確にして、文化圏による差異に配慮。  


## 応用例

- **年単位のパフォーマンス分析**：KPIの達成率や顧客行動を1年分まとめて視覚化。  
- **複数年比較**：複数年のカレンダーを並列表示して、年ごとの傾向を比較。  
- **インタラクティブ分析**：D3.jsやPlotlyでツールチップやクリックによる詳細表示を実装。  

## 代替例

| 目的 | 代替チャート |
|------|---------------|
| 日次データの傾向把握 | 折れ線グラフ（Line Chart） |
| 季節性の可視化 | サイクルプロット（Cycle Plot） |
| 時間帯ごとの密度表現 | ヒートマップ（Heatmap） |
| 長期トレンドの俯瞰 | スパークライン（Sparkline） |


## まとめ

カレンダー・ヒートマップは、日単位でのデータの変動を把握し、周期的な傾向を発見するための強力なビジュアル手法です。その見た目の親しみやすさと即時性により、個人のライフログから企業データまで幅広く利用されています。時間の流れを「数字」ではなく「季節やリズム」として捉え直す視点を提供する点に、この可視化の魅力があります。


## 参考・出典

- [Calendar Example — Vega (calendar-view example)](https://vega.github.io/vega/examples/calendar-view/) 
- [Calendar Chart — Google Charts (calendar visualization)](https://developers.google.com/chart/interactive/docs/gallery/calendar)
- [Cal-Heatmap: Calendar Heat Map JS plugin](https://cal-heatmap.com/v2/)
- [Tutorial: Building a D3.js Calendar Heatmap](https://blog.risingstack.com/tutorial-d3-js-calendar-heatmap/)