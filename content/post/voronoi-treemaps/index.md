+++
author = "Yuichi Yazaki"
title = "ボロノイ・ツリーマップ（Voronoi Treemaps）"
slug = "voronoi-treemaps"
date = "2025-10-11"
categories = [
    "chart"
]
tags = [
    "",
]
image = "images/cover.png"
+++

ボロノイ・ツリーマップ（Voronoi Treemaps）は、階層構造データを可視化するためのツリーマップ（Treemap）の一種です。従来のツリーマップが矩形分割によって領域を表現するのに対し、ボロノイ・ツリーマップは「ボロノイ分割（Voronoi diagram）」を用いて、より自然で有機的な形状を生成します。これにより、複雑な階層データを視覚的に心地よく、かつ識別しやすく表示することができます。


<!--more-->

![](images/mainvisual-2.png)
![](images/mainvisual-1.png)


この手法は2004年にMichael Balzer、Oliver Deussenらによって提案され、伝統的な長方形ベースのツリーマップに比べ、ユーザーがグループや階層の関係性をより直感的に認識できる点が特徴です。

### 図解の見方

| 要素 | 説明 |
|------|------|
| セル（領域） | 各データ項目を示し、ボロノイ分割によって生成された多角形として表示されます。 |
| サイズ | 各領域の面積は、データの値（例：売上、人数、割合など）に比例して割り当てられます。 |
| 色 | 階層構造のレベルやカテゴリを区別するために用いられます。上位階層は明るい色、下位階層は濃い色で表現される場合があります。 |
| 境界線 | 隣接する領域との境界を示し、階層レベルに応じて線の太さやスタイルが異なることがあります。 |

ボロノイ・ツリーマップの大きな特徴は、領域が不規則な形状でありながらも、隣接関係や階層構造を視覚的に自然に伝える点にあります。例えば、関連するカテゴリーは物理的にも近い位置に配置され、分布全体の「まとまり感」を強調します。

### 背景知識

ボロノイ分割は、平面上の点集合に対して、それぞれの点に最も近い領域を割り当てる幾何学的構造です。ツリーマップにこの概念を応用することで、矩形分割では表現しにくかった「有機的な領域分割」を実現しました。また、ボロノイ・ツリーマップは科学可視化や生物分類、都市構造の分析など、非均質な空間構造を伴うデータに適しています。

可視化ライブラリとしては、D3.jsやProcessingを使った実装例も多く、Balzerらの論文では「連続的な変形（Continuous Voronoi Treemap）」も提案されています。これはデータの更新時に領域の形がスムーズに変化することで、ユーザーの認知的負荷を軽減することを目的としています。

### まとめ

ボロノイ・ツリーマップは、階層データをより自然で直感的に可視化する手法として、近年注目されています。矩形ベースのツリーマップに比べて美的表現力が高く、情報デザインや生物学的データ、地理情報などにも応用可能です。ボロノイ分割の幾何学的性質を利用することで、階層構造を「自然の中の分布」に近い形で理解できる点が大きな利点です。

## 参考・出典

- [Voronoi Treemaps for the Visualization of Software Metrics – University of Konstanz](https://graphics.uni-konstanz.de/publikationen/Balzer2005VoronoiTreemaps/)
- [Voronoi Treemaps – Wikipedia](https://en.wikipedia.org/wiki/Voronoi_treemap)
