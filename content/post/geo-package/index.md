+++
author = "Yuichi Yazaki"
title = "GeoPackage（.gpkg）とは何か"
slug = "geo-package"
date = "2026-01-07"
categories = [
    "consume"
]
tags = [
    "",
]
image = "images/thumb_ph_vizjp.png"
+++

GeoPackage（ジオパッケージ）は、地理空間情報を保存・交換するための **オープンで標準化されたファイル形式** です。OGC（Open Geospatial Consortium）が策定する公式の規格であり、**1つのSQLiteデータベースファイルの中に地理データをまとめて格納できる形式**として設計されています。

GeoPackageは、ベクタデータ（点・線・ポリゴン）、ラスタデータ（画像やタイル）、属性情報、拡張情報などの複数種類の情報を1つのファイルに統合できます。これは帯域の制約がある環境やモバイル端末でも効率よく利用できるよう設計された標準です。仕様そのものはOGCの公式サイトで公開されており、**誰でも自由に利用・実装できるオープン標準です**。 

<!--more-->

## GeoPackageの構造を理解する

GeoPackageは内部的に **SQLiteデータベース** として構成されています。SQLiteは単一ファイルで完結する軽量データベースであり、その中にGeoPackage規格で定められたテーブルやインデックス、メタデータを配置します。GeoPackageの標準では、最低限以下のような内容が定義されています：

- `gpkg_contents`：データ内容の目次
- `gpkg_spatial_ref_sys`：座標参照系（CRS）の記述
- ベクタデータやラスタデータを格納するテーブル

こうした構造があることで、GISソフトウェアはGeoPackageを直接読み書きし、**中間形式への変換なしに利用できます**。

## GeoPackage形式はオープンライセンスか

GeoPackageそのものは **オープン標準（Open Standard）です**。OGCは非営利の標準化団体であり、GeoPackageの仕様は公式サイトやOGCの公開ページで閲覧可能であり、形式自体にライセンス料や特定企業への依存はありません。つまり、**GeoPackageは誰でも無償で実装・利用・配布できるオープンフォーマット** です。

ただし、注意すべき点として **GeoPackageのファイル内に含まれるデータ自体のライセンスは別問題** です。GeoPackageファイルに格納されている地理データがどのような利用条件で配布されているか（例：CC BY、CC0など）は、そのデータ提供元が明示する必要があります。これはファイル形式の性質というよりも、データ配布時の**ライセンス表記の管理の問題**です。

## GeoPackageを使う際のポイント

### 1. データのライセンスを明示する

GeoPackageファイルはコンテナ形式であり、内部に複数種類の地理データや属性情報を格納できます。しかし、**どのデータがどのライセンスで提供されているかはファイル外部で明示しなければなりません**。多くの実務ではREADMEファイルや配布ページにライセンスを記載して、誰がどのような条件で利用できるかを明示します。

### 2. 複数レイヤ・複数ライセンスの混在

1つのGeoPackageファイルに複数のレイヤを格納する場合、各レイヤごとに異なるライセンス条件が設定されている可能性があります。そのため、**レイヤごとにライセンスを管理したり、ファイルを分割するなどの工夫が必要です**。

### 3. 形式としての互換性

GeoPackageはOGC標準なので、QGIS、ArcGIS、GDALなど多くのGISソフトウェアで**相互運用可能**です。形式そのものは標準化され、仕様に準拠したファイルは異なる環境でも読み書き可能です。

## GeoPackageが実務で選ばれる理由

### シンプルで1ファイルにまとまる

従来のGISデータ形式（たとえばShapefile）は複数ファイルから構成されていたため、管理や配布時の破損リスクがありました。これに対し、GeoPackageは**単一ファイルで空間情報と属性情報をまとめられる**ため、配布や保管が容易です。

### オープン標準による互換性

OGCが策定する標準として評価されているため、多くのGISソフトウェア間での互換性が高く、**異なるシステムやプラットフォーム間のデータ交換が容易**です。これが行政・研究など公的な利用でも好まれる理由です。

### ベクタとラスタの両方に対応

GeoPackageはベクタデータだけでなく、**ラスタ（画像）データやタイルマップも格納可能**です。そのため、1つのファイルで地図表示データと背景画像を統合的に扱えます。

## 背景知識：GISファイル形式と標準化

GIS（Geographic Information System）では、地理情報をコンピュータで扱うためのファイル形式が多数存在します。それぞれの形式は歴史的背景や用途が異なり、ベンダごとに仕様が異なる場合もあります。OGCはこうした形式の相互運用性や標準化を推進する非営利団体であり、GeoPackageもその一部として策定されました。

- たとえば、古くから使われてきた「Shapefile」はESRIが仕様を公開している形式ですが、複数ファイル構成や属性名長の制限などの制約がありました。
- GeoPackageはこうした制約を克服するため、標準的なSQLiteベースのコンテナを採用しています。

## まとめ

GeoPackage（.gpkg）は、**OGC標準に基づくオープンな地理空間データ形式**として、1つのSQLiteファイルにベクタ・ラスタ・属性情報をまとめて扱える形式です。形式そのものはライセンスフリーのオープン標準ですが、中に含まれるデータの利用条件は別途明示が必要です。多くのGISソフトウェアでサポートされ、互換性や配布性の高さから、行政・研究・教育の現場でも広く利用されています。


## 参考・出典

- OGC® GeoPackage Encoding Standard (https://www.geopackage.org/spec/)  
- GeoPackage Standard | OGC Publications (https://www.ogc.org/publications/standard/geopackage/)  
- GeoPackage – Wikipedia (https://en.wikipedia.org/wiki/GeoPackage)  
- GeoPackageでデータを管理しよう！新規作成と変換方法の紹介 (https://qgis.mierune.co.jp/posts/howto_1_about_geopackage)  
- GPKG -- GeoPackage vector — GDAL documentation (https://gdal.org/en/stable/drivers/vector/gpkg.html)

