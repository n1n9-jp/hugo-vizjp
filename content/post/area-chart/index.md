+++
author = "Yuichi Yazaki"
title = "面グラフ（Area Chart）"
slug = "area-chart"
date = "2024-11-12"
categories = [
    "consume"
]
tags = [
    "",
]
image = "images/thumb_ph_vizjp.png"
+++

面グラフ（Area Chart）は、折れ線グラフ（Line Chart）の線の下部を塗りつぶすことで、量的な変化を面積で視覚的に表現するグラフです。時間やカテゴリに沿って変化する値の大きさを、面の広がりによって直感的に理解できるのが特徴です。単一系列の変化を示す場合にも、複数系列の積み上げ（Stacked Area Chart）によって全体と部分の関係を同時に可視化する場合にも利用されます。

<!--more-->

## 歴史的経緯

面グラフの起源は18世紀末、スコットランドの経済学者ウィリアム・プレイフェア（William Playfair）によって開発されたとされています。彼は「The Commercial and Political Atlas」（1786年）で、国の輸出入データを折れ線グラフや棒グラフで示し、後にその線下部を塗りつぶした面グラフを用いて経済変動の総量を強調しました。以降、面積を使って量の変化を示す手法として、統計図表や経済レポートで広く使われるようになりました。


## データ構造

面グラフは通常、2次元の系列データを用います。
- **X軸（横軸）**：時間、カテゴリ、または順序付き変数。
- **Y軸（縦軸）**：数量（連続値）。
複数系列を表示する場合は、同じX軸に対して異なるY値を積み上げたり重ねたりして可視化します。

| フィールド名 | 内容例 |
|---------------|--------|
| 時間（X軸）   | 年、月、日など |
| 値（Y軸）     | 売上、人口、温度など |
| 系列名（任意）| 地域別、カテゴリ別など |


## 目的

面グラフの目的は、時間的変化や累積的な傾向を強調し、部分と全体の関係を同時に把握させることにあります。特に、データの「総量」がどのように変化したかを視覚的に示す際に効果的です。


## ユースケース

- 時系列データにおける総量の変化（例：売上推移、エネルギー消費量）
- 複数カテゴリの構成比変化（例：市場シェアの推移）
- 累積データの比較（例：人口増減、トラフィック量）


## 特徴

- 折れ線グラフよりも「量の差」を視覚的に訴える。
- 面積によって値の大小を示すため、トレンドだけでなくボリューム感も伝わる。
- 多数の系列を重ねると、下層の変化が見えづらくなる（積み上げ面グラフの課題）。

| 種類 | 特徴 |
|------|------|
| 単一面グラフ | 一つの系列の変化を表す |
| 積み上げ面グラフ（Stacked） | 複数系列の合計と内訳を同時に示す |
| 100%積み上げ面グラフ | 各時点の構成比をパーセントで示す |
| 重ね面グラフ（Overlapping） | 各系列を透過重ねして比較 |


## チャートの見方

横軸の進行に対して、面の高さが値の大きさを示します。複数系列を積み上げた場合、最上層の輪郭線は全体量を表し、各面の厚みがカテゴリ間の差を示します。透明度を調整した重ね表示では、交差部分から相対的な比較が可能になります。


## デザイン上の注意点

- 色の選択は系列ごとに明確な差をつける。
- 積み上げ型の場合、下層の変化が歪んで見えるため注意。
- 面の重なりを避けるため、透明度（opacity）や境界線（stroke）を調整する。
- 凡例や注釈を付けて系列を明確に識別させる。
- 非ゼロベースでの表示は誤解を生むため避ける。


## 応用例

- **ストリームグラフ（Streamgraph）**：積み上げ面グラフを中心線を基準に上下へ波打たせたデザイン。視覚的に動きのある構成比変化を表現。
- **レイヤードエリアチャート（Layered Area Chart）**：透明度を用いて複数系列を重ね、比較を重視。
- **累積リボングラフ（Ribbon Chart）**：面の境界に焦点を当て、順位や比率の変化を強調。


## 代替例

- 折れ線グラフ（Line Chart）：トレンド重視。
- 棒グラフ（Bar Chart）：絶対値の比較重視。
- ストリームグラフ（Streamgraph）：構成比変化の可視化。
- リボンチャート（Ribbon Chart）：順位変化や比率推移。


## まとめ

面グラフは、数量の時間的推移や累積変化を視覚的に伝えるのに適した手法です。特に全体と部分の関係を同時に理解させたい場合に効果的であり、適切な配色や構成によって可読性と情報量を両立できます。ただし、多系列を扱う場合は可視性の確保が課題となるため、補助線や凡例の設計が重要です。


## 参考・出典

- [Data Visualization Catalogue – Area Graph](https://datavizcatalogue.com/methods/area_graph.html)
- [Wikipedia – Area chart](https://en.wikipedia.org/wiki/Area_chart)
- [Data Viz Project – Area Chart](https://datavizproject.com/data-type/area-chart/)
- [Matplotlib – Stackplot (filled line plot)](https://matplotlib.org/stable/gallery/lines_bars_and_markers/stackplot_demo.html)