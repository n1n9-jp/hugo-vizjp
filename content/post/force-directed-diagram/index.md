+++
author = "Yuichi Yazaki"
title = "フォース・ダイレクテッド・ダイアグラム（Force Directed Diagram）"
slug = "force-directed-diagram"
date = "2025-10-11"
categories = [
    "chart"
]
tags = [
    "",
]
image = "images/cover.png"
+++

フォース・ダイレクテッド・ダイアグラム（Force Directed Diagram）は、ネットワーク構造を視覚的に表すためのグラフ描画手法の一つです。ノード（点）とエッジ（線）を持つネットワークを、物理的な「力」によって自動的にレイアウトします。一般に、ノード同士はバネのような力（引力・斥力）でつながり、エッジの長さや方向はそれらの力のバランスによって決まります。

このモデルは、複雑なネットワーク（たとえば人間関係、Webリンク構造、SNSのつながり、遺伝子相互作用など）を、直感的かつ均衡のとれた配置で可視化するのに適しています。



<!--more-->

![](images/mainvisual.png)

## 歴史的経緯

この手法の原型は1980年代に登場し、特にEades（1984）とFruchterman & Reingold（1991）の研究が代表的です。Eadesはばねモデル（spring model）を提案し、ノード間をばねのように結ぶ力学モデルを用いました。その後、Fruchterman-Reingoldアルゴリズムが汎用的な力学シミュレーション手法として確立し、現代の多くの可視化ライブラリ（Gephi, D3.jsなど）に実装されています。

| 年 | 研究者 | 内容 |
|----|---------|------|
| 1984 | Peter Eades | 「ばねモデル」に基づくレイアウト提案 |
| 1991 | Fruchterman & Reingold | エネルギー最小化に基づく一般的なアルゴリズム確立 |
| 2009 | Mike Bostock | D3.jsによるWeb上でのインタラクティブ実装 |


## データ構造

フォース・ダイレクテッド・ダイアグラムは主に**ノードリスト**と**エッジリスト**で構成されます。  
- **ノード（Nodes）**: 個々の要素（例：人、企業、ページなど）  
- **エッジ（Edges）**: ノード同士の関係（例：フォロー関係、リンク、共著など）  


## 目的

複雑なネットワーク関係を視覚的に把握することが目的です。社会的ネットワーク、生物学的ネットワーク、引用関係、Webリンク構造など、多様なデータの関係性を理解するために用いられます。


## ユースケース

- SNSにおける友人・フォロー関係の可視化  
- 研究者間の共著ネットワーク分析  
- Webサイト間のリンク構造分析  
- 生物学におけるタンパク質相互作用ネットワーク（PPI）  
- 企業・団体間の関係図（株主関係など）


## 特徴

- **力学的配置**により、データ構造に応じて自然なレイアウトを自動生成  
- **クラスタリングの可視化**：近接ノードの密度でグループ構造を直感的に把握可能  
- **相互作用的操作**（ズーム、ドラッグ、ホバー）との親和性が高い  
- **アルゴリズム依存性**：初期配置やパラメータ設定によって結果が異なる  


## チャートの見方

ノードの位置は、ネットワーク内での関係性や中心性に基づいて配置されます。  
- ノードが**近い**ほど関係性が強い  
- **線の太さ**や**色**で関係強度や種類を示すことが多い  
- **サイズの大きいノード**は中心的な存在（高い次数や影響力）を示す  

| 要素 | 意味 | 説明 |
|------|------|------|
| ノード（Node） | 個体や要素 | 各ノードは人物・ウェブページ・遺伝子など、関係を持つ対象を示します。 |
| エッジ（Edge） | 関係・リンク | ノード間を結ぶ線で、相互作用や関係性の有無・強さを表します。 |
| 位置 | 力学的均衡 | エッジの長さやノードの位置は、引力（近づけようとする力）と斥力（離そうとする力）のバランスで決定されます。 |
| 色 | グループ・属性 | ノードの色は所属するクラスタやカテゴリーを示すことが多いです。 |
| サイズ | 重要度・次数 | ノードの大きさは、つながりの数（次数）や影響度などの数値を表すことがあります。 |

このダイアグラムでは、密集したノード群は強い相互関係を持つクラスタを示し、孤立したノードは他とのつながりが少ないことを意味します。ネットワーク全体の構造（中心性、分断、モジュール性など）を視覚的に読み取ることができます。


## デザイン上の注意点

- ノード数が多すぎると「毛玉化」し、可読性が低下する  
- エッジの重なりを避けるため、クラスタリングやフィルタリングを併用する  
- 色・サイズ・透明度を活用して重要ノードを強調する  
- レイアウトの安定化のため、シミュレーションパラメータ（α値、反発力、重力など）を調整する  


## 応用例

(To be delivered.)


## 代替例

フォース・ダイレクテッド・ダイアグラム以外にも、ネットワーク構造を表す手法があります。

| 手法 | 概要 | 適用例 |
|------|------|--------|
| アーク・ダイアグラム | ノードを直線上に配置し、関係を弧で描画 | 時系列的関係の表現 |
| サーキュラー・ネットワーク図 | 円周上にノードを配置 | 全体構造の対称的表現 |
| ツリーダイアグラム | 階層構造を明示的に表現 | 組織図、分類体系など |


## まとめ

フォース・ダイレクテッド・ダイアグラムは、ネットワーク構造を理解するうえで最も直感的かつ柔軟な手法の一つです。特にデータの関係性を動的・インタラクティブに示したい場合に有効です。

ただし、ノード数が多い場合はクラスタリングや代替レイアウトの活用が求められます。


## 参考・出典

- [Fruchterman, T.M.J., & Reingold, E.M. (1991). Graph Drawing by Force-directed Placement. *Software: Practice and Experience*, 21(11), 1129–1164.](https://doi.org/10.1002/spe.4380211102)
- [Kamada, T., & Kawai, S. (1989). An Algorithm for Drawing General Undirected Graphs. *Information Processing Letters*, 31(1), 7–15.](https://doi.org/10.1016/0020-0190(89)90102-6)
- [Fruchterman, T.M.J. & Reingold, E.M. (1991). Graph Drawing by Force‐Directed Placement. *Software: Practice and Experience*, 21(11), 1129–1164.](https://doi.org/10.1002/spe.4380211102)
- [D3.js - Force Simulation Official API Reference](https://github.com/d3/d3-force)
- [Gephi Official Documentation – ForceAtlas2 Layout](https://gephi.org/users/)
- [Cytoscape Official Site](https://cytoscape.org/)