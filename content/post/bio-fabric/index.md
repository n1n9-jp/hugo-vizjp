+++
author = "Yuichi Yazaki"
title = "バイオファブリック（BioFabric）"
slug = "bio-fabric"
date = "2025-10-11"
categories = [
    "chart"
]
tags = [
    "",
]
image = "images/cover.png"
+++

バイオファブリック（BioFabric）は、ネットワーク（グラフ）構造を従来のノードリンク図とは異なる手法で可視化するユニークなチャートです。ノードを線（ストランド）として表し、エッジ（関係）をそれらを横切る短い線として描くことにより、ネットワークの大規模構造を明確かつ整然と表現します。

このアプローチは、ノードの重なりや複雑なリンクの交差を避け、巨大なネットワークでも見通しのよい表示を実現するために開発されました。

<!--more-->

![BioFabric](images/mainvisual.png)


## 歴史的経緯

BioFabricは、データ可視化研究者・開発者の David A. Long によって2012年に提案されたネットワーク可視化手法です。従来のノードリンク図（Node-Link Diagram）は、ノードの数やリンクの密度が増えると「ヘアボール（hairball）」と呼ばれる状態に陥り、全体構造の理解が困難になる問題がありました。

Longはこれに対し、ノードを垂直方向の線分、エッジを水平方向の短線分として表現することで、規則的なグリッド上にネットワークを配置し、読みやすさを保ちながらスケール可能な可視化を可能にしました。

![左が従来のネットワーク図（いわゆる“ヘアボール”）、右がBioFabricによる図](images/bedore-after.png)

上図は「Comb the Hairball with BioFabric（BioFabricで“毛玉”をとかす）」という公式デモの一例で、左が従来のネットワーク図（いわゆる“ヘアボール”）、右がBioFabricによる図です。

左図ではノードとエッジが錯綜しており、相関や構造を把握することが困難です。一方で、右図では **各ノードが水平線** 、 **エッジが垂直線** として表現され、全体が格子状に整列されています。これにより、接続関係の密度やモジュール構造を直感的に読み取ることができます。


## データ構造

BioFabricは、一般的なネットワークデータと同様に「ノード」と「エッジ」の2要素から成り立ちます。ただし、可視化上の構造は以下のように異なります。

| 要素 | 表現方法 | 備考 |
|------|-----------|------|
| ノード | 水平方向の位置に対応する垂直線 | 各ノードは一意の列を持つ |
| エッジ | 2つのノード列をつなぐ短い水平線 | エッジの位置は対応するノード間の関係を示す |

この構造により、ノードやエッジの追加・削除も比較的安定したレイアウトで行うことができます。

## 目的

BioFabricの主な目的は、ノードリンク図が抱える視認性の問題を解決し、特に大規模ネットワークの全体構造やパターンを俯瞰的に理解できるようにすることです。また、ネットワーク解析の結果（クラスタリング、中心性、コミュニティ構造など）をビジュアルに把握しやすくする狙いもあります。

## ユースケース

- **生物学的ネットワークの可視化**（遺伝子、タンパク質相互作用など）
- **社会ネットワークの分析**（人間関係・組織構造）
- **ITネットワークの構造分析**（通信、依存関係、ログ分析）
- **ソフトウェア構造可視化**（クラスやモジュールの依存関係）

特に生物学分野では、遺伝子や代謝経路のネットワークを「BioFabric」の名にふさわしい“織物（fabric）”のようなパターンとして表現することが多いです。

## 特徴

従来のネットワーク図は、ノード数やエッジ数が増えると「毛玉状（hairball）」になり、情報が読み取れなくなる問題がありました。BioFabricはこの問題を **レイアウトの発想自体を変えることで解決** しました。

- ノード同士が重ならないため、どの関係も一意に識別可能  
- エッジの本数が多くても、全体の構造が保たれる  
- レイアウトが自動的に整列するため、比較や変化の可視化に適する  
- 通常のノードリンク図に比べて美的な一貫性を持つ  

## チャートの見方

縦の線が「ノード」、それらを横切る短い線が「エッジ（関係）」を示します。  
同じ行にあるエッジは、同一のリンク群や特定の属性でまとめられていることが多く、行順はノードの属性値やアルゴリズム的な並べ替えに基づきます。

| 要素 | 意味 | 見方のポイント |
|------|------|----------------|
| **水平線** | 各ノード（遺伝子・人物・要素）を表す | 一行が一つのノードに対応する。行の位置がノードの順序関係を示す。 |
| **垂直線** | エッジ（ノード間の関係）を表す | 上下に交差する点が接続関係。密集度が高いほど関連が強い部分群を示す。 |
| **ブロック構造** | クラスタ・モジュール構造 | 同じパターンの線群が塊を形成する部分。機能的モジュールやコミュニティに対応。 |
| **色分け** | 異なる属性や分類 | 例えば、系統分類、サブネットワーク、重みなどを色で識別できる。 |

右下の拡大図（YOR372Cなど）は、実際のデータセット「Yeast High-Quality Network（酵母の高品質ネットワーク）」からの部分です。局所的な接続構造が格子状に展開され、どのノードがどのような関係を持つかが整然と示されています。



## デザイン上の注意点

- ノード順序の決定が可読性に大きく影響する  
- 色や太さによる属性表現を工夫することで理解を助ける  
- 水平方向・垂直方向のスケールバランスを考慮する  
- 交差を完全に排除できるが、空間効率が低くなる場合がある  

## 応用例

- Cytoscapeプラグインや独自ツールでのBioFabric表示  
- 遺伝子ネットワーク（Gene Ontology Network）の解析  
- ソフトウェア依存関係の俯瞰  
- 大規模SNSやコミュニティ構造の視覚化  

## 代替例

- ノードリンク図（Node-Link Diagram）  
- マトリクスプロット（Adjacency Matrix）  
- Hive Plot（ハイブプロット）  
これらはいずれもネットワーク構造を異なる視点で表現しますが、BioFabricは特に「構造の規則性」と「スケーラビリティ」に優れています。

## まとめ

BioFabricは、従来の「点と線の混沌」から脱却し、**構造の秩序と密度のパターン**を可視化する新しい手法です。

ノードを線、エッジを横断線として表現することで、情報過多になりがちなネットワークの構造を「織物」のように整理して見せることができます。その独特の表現は、科学研究から情報デザインまで幅広い応用が期待されています。

## 参考・出典

- [BioFabric Official Site](http://www.biofabric.org/)
- [BioFabric: A novel network visualization tool](https://biofabric.systemsbiology.net/)
- [Comb the Hairball with BioFabric (official tutorial)](https://biofabric.systemsbiology.net/gallery/index.html)
- [wjrl/BioFabric: BioFabric is an open-source network visualization tool](https://github.com/wjrl/BioFabric)
- [Longabaugh, W. J. R. “Combing the hairball with BioFabric: a new approach for visualization of large networks.” *BMC Bioinformatics* (2012)](https://bmcbioinformatics.biomedcentral.com/articles/10.1186/1471-2105-13-275)
- [BioFabric — Wikipedia (English)](https://en.wikipedia.org/wiki/BioFabric)
- [layout_tbl_graph_fabric — ggraph R package documentation](https://ggraph.data-imaginist.com/reference/layout_tbl_graph_fabric.html)